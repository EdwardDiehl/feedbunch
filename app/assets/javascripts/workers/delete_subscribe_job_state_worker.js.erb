/**
 * Web Worker to delete a subscribe job state in a separate thread.
 */

importScripts('<%= asset_path 'workers/common/do_delete' %>');

// Callback for messages from the main thread
onmessage = function(e){
  // Constants for the different operations the web worker can perform
  var DELETE_SUBSCRIBE_JOB_STATE = "delete_subscribe_job_state";

  // CSRF token
  var token = e.data.token;

  // id of the job state to delete
  var id = e.data.id;

  do_delete(DELETE_SUBSCRIBE_JOB_STATE, "/api/subscribe_job_states/" + id + ".json", token, 0);
}